<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import de Google Charts : permet d'afficher des graphiques -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <title>Statistiques WhatsApp</title>
    <link rel="stylesheet" href="./styles_css/composants.css">
    <link rel="stylesheet" href="./styles_css/page4.css">
    <link rel="stylesheet" href="./styles_css/default.css">
    <script type="text/javascript">
      let motsLesPlusUtilisesTableau = JSON.parse(localStorage.getItem("motsLesPlusUtilises"));
      // Création du tableau selon le format voulu par Google Charts
      let tableau = [['Mots les plus utilises', "Frequence d'apparition", { role: 'style' }, { role: 'annotation' }]]
      for (let i = 0; i < motsLesPlusUtilisesTableau.length; i++) {
        tableau.push([motsLesPlusUtilisesTableau[i][0], motsLesPlusUtilisesTableau[i][1], "#9e9e9e", motsLesPlusUtilisesTableau[i][0]])
      }
      let hauteur = window.innerHeight;
        google.charts.load("current", {packages:["corechart"]});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
          let donnees = google.visualization.arrayToDataTable(tableau);
  
          let options = {
            chartArea:{left:40,top:0,width:'80%',height:'100%'},
            height: hauteur / 2,
            backgroundColor: "transparent",
            legend: 'none',
            hAxis: {
              title: '', // Titre de l'axe des abscisses (vide)
              minValue: 0, // Valeur minimale de l'axe des abscisses
              textPosition: 'none', // Masquer les étiquettes de l'axe des abscisses
              gridlines: {color: 'transparent'} // Supprimer les lignes de l'axe des abscisses
            },
            vAxis: {
              title: '', // Titre de l'axe des ordonnées (vide)
              textPosition: 'none', // Masquer les étiquettes de l'axe des ordonnées
              gridlines: {color: 'transparent'} // Supprimer les lignes de l'axe des ordonnées
            },
            fontSize: 20
          };
  
          let chart = new google.visualization.BarChart(document.getElementById('graphiqueMotsLesPlusUtilises'));
          chart.draw(donnees, options);
        }
    </script>
</head>
<body>
    <div class="barreAvancement">
        <div class="barreAvancement-element barreAvancement-element--actif"></div>
        <div class="barreAvancement-element barreAvancement-element--actif"></div>
        <div class="barreAvancement-element barreAvancement-element--actif"></div>
        <div class="barreAvancement-element barreAvancement-element--actif"></div>
        <div class="barreAvancement-element"></div>
        <div class="barreAvancement-element"></div>
    </div>
    <div class="contenu">
        <span class="contenu-titre">
          Les mots que vous utilisez le + sont :
        </span>
        <div class="contenu-graphique" id="graphiqueMotsLesPlusUtilises"></div>
    </div>
    <span class="information">La présence de 'médias' et 'omis' correpond à une photo / une vidéo / un message audio</span>
    <a class="clicPrecedent" href="./page3.html"></a>
    <a class="clicSuivant" href="./page5.html"></a>
</body>
</html>